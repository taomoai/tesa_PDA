# PDA - AI for Product Design

产品需求匹配与材料替换建议系统

## 项目简介

PDA (Product Design Assistant) 是一个基于 AI 的产品需求匹配与材料替换建议系统，专为胶带产品的设计优化而开发。系统通过三个核心步骤帮助用户快速找到满足性能要求的产品方案或材料组合：

- **Step 1: 精确匹配** - 基于精确条件筛选现有产品
- **Step 2: 近似匹配** - 使用容差算法找到最相近的产品，并提供可视化分析
- **Step 3: 新材料研发** - 基于目标性能逆向设计材料组合方案

## 功能特性

### Step 1: 精确匹配
- 支持多维度精确筛选：产品类型、总厚度、颜色、基材、剥离力、移除力等
- 实时展示匹配结果和产品详情
- 支持产品属性对比和标签筛选

### Step 2: 近似匹配
- 智能容差匹配算法，找到最相近的产品
- 雷达图可视化展示多维度匹配度
- PCA 降维分析产品分布密度
- 支持 Top-N 产品推荐和详细评估

### Step 3: 新材料研发
- 基于目标性能逆向设计材料组合
- 使用机器学习模型预测产品性能
- OR-Tools 优化求解器寻找最优方案
- 支持多方案对比和评分排序

## 技术架构

### 核心技术栈
- **前端框架**: Streamlit 1.36+
- **数据处理**: Pandas 2.0+, NumPy 1.24+
- **机器学习**: scikit-learn 1.3+
- **优化求解**: OR-Tools 9.0+
- **数据验证**: Pydantic 1.10+
- **可视化**: Matplotlib 3.7+

### 核心模块

#### `app/search.py`
- 精确产品搜索
- 多条件过滤
- 产品属性封装

#### `app/approximate_search.py`
- 模糊匹配算法
- 容差区间过滤
- 雷达图与 PCA 可视化
- 匹配度评分

#### `app/input_reverser.py`
- 逆向材料设计
- 线性回归模型预测
- OR-Tools 混合整数规划求解
- 材料组合优化

## 安装与运行

### 环境要求
- Python 3.12+
- pip 或 conda

### 安装步骤

1. **安装依赖**
```bash
pip install -r requirements.txt
```

2. **运行应用**
```bash
streamlit run requirements_mapping_app.py
```

应用将在浏览器中自动打开，默认地址：`http://localhost:8501`


## 使用指南

### 基本流程

1. **配置筛选条件**（左侧表单）
   - 选择产品类型（Single-liner / Double-liner / Transfer / Multi-layer）
   - 设置总厚度范围
   - 选择颜色和基材
   - 配置性能指标（剥离力、移除力、涂布量等）

2. **执行精确匹配**（Step 1）
   - 点击"计算匹配结果"
   - 查看匹配的产品列表
   - 选择产品查看详细属性

3. **近似匹配**（Step 2）
   - 如果精确匹配无结果，自动进入近似匹配
   - 查看雷达图和 PCA 分布图
   - 选择最相近的产品方案

4. **新材料研发**（Step 3）
   - 如果现有产品不满足需求，启动新材料研发
   - 设置推荐组合数量（5/10/20/50/100）
   - 查看材料组合方案和性能预测
   - 对比不同方案的评分和评估明细

### 性能指标说明

- **PA To SUS Open Side**: 开放面剥离力（N/25mm），范围 0-15
- **PA To SUS Covered Side**: 盖面剥离力（N/25mm），范围 0-15
- **Total Thickness**: 总厚度（不含离型纸，μm）
- **Removable Force**: 移除力（N）
- **Holding Power**: 持粘力（N）
- **Coating Weight**: 涂布量（g/m²）

**注意**: 首次运行前请确保所有数据文件和模型文件已正确配置在指定路径。

